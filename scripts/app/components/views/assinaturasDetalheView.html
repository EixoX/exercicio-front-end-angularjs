<div class="content-wrapper" fixlayout>
  <!-- Content Header (Page header) -->
  <section class="content-header">
    <h1>
      {{ pagina.titulo }}
      <small> {{ pagina.subtitulo }} </small>
    </h1>
    <ol class="breadcrumb">
      <li><a href="#!/"><i class="fa fa-dashboard"></i> Início</a></li>
      <li class="active">Assinaturas {{ glamboxEditionData.group.name }}</li>
    </ol>
  </section>

  <!-- Main content -->
  <section class="content">
    <!-- Your Page Content Here -->

    <div class="row">
      <div class="col-md-2">

        <div class="box box-solid">
          <div class="box-header with-border">
            <h3 class="box-title">Situações</h3>

            <div class="box-tools">
              <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
              </button>
            </div>
          </div>
          <div class="box-body no-padding">
            <ul class="nav nav-pills nav-stacked">
              <li class="{{glamboxEditionData.group.name === 'Perdidas' ? 'active' : 'nada' }}"><a href="#!/assinaturas/perdidas"><i class="fa fa-thumbs-down"></i> Perdidas<span class="label label-danger pull-right">{{ glamboxEditionDataAll.assinaturas.perdidas.subscriberCount | number }}</span></a></li>
              <li class="{{glamboxEditionData.group.name === 'Mantidas' ? 'active' : 'nada' }}"><a href="#!/assinaturas/mantidas"><i class="fa fa-smile-o"></i> Mantidas<span class="label label-warning pull-right">{{ glamboxEditionDataAll.assinaturas.mantidas.subscriberCount | number }}</span></a></li>
              <li class="{{glamboxEditionData.group.name === 'Pendentes' ? 'active' : 'nada' }}"><a href="#!/assinaturas/pendentes"><i class="fa fa-clock-o"></i> Pendentes<span class="label label-info pull-right">{{ glamboxEditionDataAll.assinaturas.pendentes.subscriberCount | number }}</span></a></li>
              <li class="{{glamboxEditionData.group.name === 'Conquistadas' ? 'active' : 'nada' }}"><a href="#!/assinaturas/conquistadas"><i class="fa fa-thumbs-up"></i> Conquistadas<span class="label label-success pull-right">{{ glamboxEditionDataAll.assinaturas.conquistadas.subscriberCount | number }}</span></a></li>
            </ul>
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /. box -->
      </div>

      <div class="col-md-10">
        <div class="box {{boxType}}">
          <div class="box-header with-border">
            <h3 class="box-title">Total de assinaturas {{glamboxEditionData.group.name}} por tipo</h3>
            <div class="box-tools pull-right">
              <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
              </button>
              <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
            </div>
          </div>
          <!-- /.box-header -->
          <div class="box-body">
            <div class="row">
              <div class="col-md-12">
                <div class="chart-responsive" ng-controller="graficoHorizontalController">

                  <canvas id="base" class="chart-horizontal-bar" chart-data="data" chart-labels="labels" chart-options="options" >
                  </canvas>

                </div>
                <!-- ./chart-responsive -->
              </div>
              <!-- /.col -->
            </div>
            <!-- /.row -->
          </div>
          <!-- /.box-body -->
        </div>
        <!-- /.box -->
      </div>
    </div>
    
    <h3 ng-if="glamboxEditionData.children.length > 0">Detalhes</h3>

    
    <div class="row">
      <span ng-repeat="children in glamboxEditionData.children">
        <div class="col-md-3">
          <div class="box box-default">
            <div class="box-header with-border">
              <h3 class="box-title">{{children.group.name}}</h3>
              <div class="box-tools pull-right">
                <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                </button>
                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
              <div class="row">
                <div class="col-md-12">
                  <div class="chart-responsive">
                    <p class="text-center text-sm">{{children.group.description}}</p>
                    <canvas id="pie" class="chart chart-pie"
                      chart-data="children.data.data" chart-labels="children.data.labels" chart-options="options">
                    </canvas>

                  </div>
                  <!-- ./chart-responsive -->
                </div>
                <!-- /.col -->
              </div>
              <!-- /.row -->
            </div>
            <!-- /.box-body -->
            <div class="box-footer no-padding">
              <ul class="nav nav-pills nav-stacked">
                <li class="bg-default no-hover"><a href="javascritp:void(0);" class="text-bold">Tipo
                  <span class="pull-right text-bold"><i class=""></i> 
                    Qtd.</span></a>
                </li>
                <li ng-repeat="sub in children.subs">
                  <a href="javascritp:void(0);">{{sub.subscriptionName}}
                  <span class="pull-right"><i class=""></i> 
                    {{sub.subscriberCount | number:0}}</span>
                  </a>
                </li>
                <li><a href="javascritp:void(0);">Total
                  <span class="pull-right"><i class=""></i> 
                    {{children.subscriberCount | number:0}}</span></a>
                </li>
              </ul>
            </div>
            <!-- /.footer -->
          </div>
          <!-- /.box -->
        </div>
      </span>
    </div>
    

  </section>
  <!-- /.content -->
</div>